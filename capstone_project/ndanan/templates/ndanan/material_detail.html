{% extends "ndanan/base.html" %}

{% block title %}{{ material_detail.title }} - Ndanan{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="{% url 'material_details' %}" class="text-teal-600 hover:underline">&larr; Back to Materials</a>
</div>

<div class="bg-white rounded-lg shadow-lg p-8">
    <div class="mb-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">{{ material_detail.title }}</h1>
        <p class="text-gray-500">Course: {{ material_detail.course.name }}</p>
    </div>

    <div class="mb-6">
        <h3 class="text-lg font-bold text-gray-700 mb-2">Description</h3>
        <p class="text-gray-600">{{ material_detail.description }}</p>
    </div>

    <div class="mb-6">
        <h3 class="text-lg font-bold text-gray-700 mb-2">Uploaded By</h3>
        <p class="text-gray-600">{{ material_detail.uploaded_by.first_name }} {{ material_detail.uploaded_by.last_name }}</p>
    </div>

    <div class="mb-6">
        <h3 class="text-lg font-bold text-gray-700 mb-2">Uploaded On</h3>
        <p class="text-gray-600">{{ material_detail.created_at|date:"F d, Y" }}</p>
    </div>

    {% if material_detail.file %}
        <div class="mb-6">
            <h3 class="text-lg font-bold text-gray-700 mb-2">File</h3>
            <a href="{{ material_detail.file.url }}" target="_blank" 
                class="inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                Download File
            </a>
        </div>
    {% endif %}

    {% if user.role == "teacher" or user.role == "admin" %}
        <div class="flex space-x-4">
            <a href="#" class="px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700">Edit Material</a>
            <a href="{% url 'course_detail' material_detail.course.pk %}" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                View Course
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}